import requests
from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import Application, CommandHandler, ContextTypes

# ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª Ù…Ù† BotFather (Ù…ÙƒØªÙˆØ¨ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯)
TOKEN = "8403763339:AAFuyHOTd7WWu8S1SwdqBk-X_wNAcneKN-I"

# ====== Ø¯ÙˆØ§Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ======
def Ø³Ø¹Ø±_Ø§Ù„Ø¨ÙŠØªÙƒÙˆÙŠÙ†():
    Ø±Ø§Ø¨Ø· = "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd"
    Ø±Ø¯ = requests.get(Ø±Ø§Ø¨Ø·).json()
    return Ø±Ø¯["bitcoin"]["usd"]

def Ø³Ø¹Ø±_Ø§Ù„Ø°Ù‡Ø¨():
    Ø±Ø§Ø¨Ø· = "https://api.exchangerate.host/latest?base=USD&symbols=XAU"
    Ø±Ø¯ = requests.get(Ø±Ø§Ø¨Ø·).json()
    return Ø±Ø¯["rates"]["XAU"]

def Ø³Ø¹Ø±_Ø§Ù„ÙŠÙˆØ±Ùˆ():
    Ø±Ø§Ø¨Ø· = "https://api.exchangerate.host/latest?base=USD&symbols=EUR"
    Ø±Ø¯ = requests.get(Ø±Ø§Ø¨Ø·).json()
    return Ø±Ø¯["rates"]["EUR"]

# ====== Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨ÙˆØª ======
async def Ø§Ø¨Ø¯Ø£(update: Update, context: ContextTypes.DEFAULT_TYPE):
    Ù„ÙˆØ­Ø© = [["ğŸ’° Ø¨ÙŠØªÙƒÙˆÙŠÙ†", "ğŸª™ Ø°Ù‡Ø¨"], ["ğŸ’¶ ÙŠÙˆØ±Ùˆ"]]
    Ø±Ø¯ = ReplyKeyboardMarkup(Ù„ÙˆØ­Ø©, resize_keyboard=True)
    await update.message.reply_text("Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ WOLF TRADER ğŸ‘‹\nØ§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡:", reply_markup=Ø±Ø¯)

async def Ø¨ÙŠØªÙƒÙˆÙŠÙ†(update: Update, context: ContextTypes.DEFAULT_TYPE):
    Ø§Ù„Ø³Ø¹Ø± = Ø³Ø¹Ø±_Ø§Ù„Ø¨ÙŠØªÙƒÙˆÙŠÙ†()
    await update.message.reply_text(f"Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØªÙƒÙˆÙŠÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ: ${Ø§Ù„Ø³Ø¹Ø±}")

async def Ø°Ù‡Ø¨(update: Update, context: ContextTypes.DEFAULT_TYPE):
    Ø§Ù„Ø³Ø¹Ø± = Ø³Ø¹Ø±_Ø§Ù„Ø°Ù‡Ø¨()
    await update.message.reply_text(f"Ø³Ø¹Ø± Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø£ÙˆÙ†ØµØ©): ${Ø§Ù„Ø³Ø¹Ø±}")

async def ÙŠÙˆØ±Ùˆ(update: Update, context: ContextTypes.DEFAULT_TYPE):
    Ø§Ù„Ø³Ø¹Ø± = Ø³Ø¹Ø±_Ø§Ù„ÙŠÙˆØ±Ùˆ()
    await update.message.reply_text(f"Ø³Ø¹Ø± Ø§Ù„ÙŠÙˆØ±Ùˆ Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±: {Ø§Ù„Ø³Ø¹Ø±}")

# ====== ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª ======
Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ = Application.builder().token(TOKEN).build()
Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.add_handler(CommandHandler("start", Ø§Ø¨Ø¯Ø£))
Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.add_handler(CommandHandler("bitcoin", Ø¨ÙŠØªÙƒÙˆÙŠÙ†))
Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.add_handler(CommandHandler("gold", Ø°Ù‡Ø¨))
Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.add_handler(CommandHandler("forex", ÙŠÙˆØ±Ùˆ))

Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.run_polling()